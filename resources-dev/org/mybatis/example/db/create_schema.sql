CREATE USER IF NOT EXISTS SA SALT '0f757fecb679a8c1' HASH '5fe6be8be8426929c0453f0b33e9403694772e01f825f0448c1d9afee914615a' ADMIN;
CREATE CACHED TABLE PUBLIC.CONTACT(
    ID INT NOT NULL,
    LASTNAME VARCHAR(50) DEFAULT NULL,
    FIRSTNAME VARCHAR(50) DEFAULT NULL,
    PHONE VARCHAR(20) DEFAULT NULL,
    EMAIL VARCHAR(50) DEFAULT NULL
);
ALTER TABLE PUBLIC.CONTACT ADD CONSTRAINT PUBLIC.CONSTRAINT_6 PRIMARY KEY(ID);
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.CONTACT;
INSERT INTO PUBLIC.CONTACT(ID, LASTNAME, FIRSTNAME, PHONE, EMAIL) VALUES
(1, 'bar', 'foo', '9986099860', 'foo@bar.com'),
(2, 'mylastname', 'myfirstname', '9080', 'my@email.com');
CREATE CACHED TABLE PUBLIC.NAMES(
    NAME VARCHAR(20)
);
-- 3 +/- SELECT COUNT(*) FROM PUBLIC.NAMES;
INSERT INTO PUBLIC.NAMES(NAME) VALUES
('samarjit'),
('samanta'),
('santosh');
CREATE CACHED TABLE PUBLIC.TAG(
    IDTAG INT,
    VALUE VARCHAR(45)
);
-- 3 +/- SELECT COUNT(*) FROM PUBLIC.TAG;
INSERT INTO PUBLIC.TAG(IDTAG, VALUE) VALUES
(101, 'TagMyBatis'),
(102, 'TagJPA'),
(103, 'TagHibernate');
CREATE CACHED TABLE PUBLIC.POST(
    IDPOST INT,
    TITLE VARCHAR(45),
    IDBLOG INT
);
-- 3 +/- SELECT COUNT(*) FROM PUBLIC.POST;
INSERT INTO PUBLIC.POST(IDPOST, TITLE, IDBLOG) VALUES
(111, 'PostMybatis', 10),
(222, 'PostJPA', 20),
(333, 'PostHibernate', 20);
CREATE CACHED TABLE PUBLIC.BLOG(
    IDBLOG INT,
    NAME VARCHAR(45),
    URL VARCHAR(45)
);
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.BLOG;
INSERT INTO PUBLIC.BLOG(IDBLOG, NAME, URL) VALUES
(10, 'MyMybatisBlog', 'www.mybatis.com/samarjit'),
(20, 'MyJPABlog', 'www.mybatis.com/jpa');
CREATE CACHED TABLE PUBLIC.POST_TAG(
    ID_POST_TAG INT,
    IDPOST INT,
    IDTAG INT
);
-- 4 +/- SELECT COUNT(*) FROM PUBLIC.POST_TAG;
INSERT INTO PUBLIC.POST_TAG(ID_POST_TAG, IDPOST, IDTAG) VALUES
(111101, 111, 101),
(222102, 222, 102),
(333102, 333, 102),
(333103, 333, 103);
CREATE INDEX PUBLIC.POST_TAG_TAG_FK_INDEX_5 ON PUBLIC.POST_TAG(IDTAG);
CREATE CACHED TABLE PUBLIC.AUTHOR(
    IDAUTHOR INT,
    NAME VARCHAR(45),
    EMAIL VARCHAR(45),
    IDBLOG INT
);
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.AUTHOR;
INSERT INTO PUBLIC.AUTHOR(IDAUTHOR, NAME, EMAIL, IDBLOG) VALUES
(1, 'samarjit', 'samarjit@localhost', 10),
(2, 'samanta', 'samanta@localhost', 20);
ALTER TABLE PUBLIC.POST_TAG ADD CONSTRAINT PUBLIC.POST_TAG_TAG_FK FOREIGN KEY(IDTAG) REFERENCES PUBLIC.TAG(IDTAG) NOCHECK;
ALTER TABLE PUBLIC.POST ADD CONSTRAINT PUBLIC.POST_BLOG_FK FOREIGN KEY(IDBLOG) REFERENCES PUBLIC.BLOG(IDBLOG) NOCHECK;
ALTER TABLE PUBLIC.POST_TAG ADD CONSTRAINT PUBLIC.POST_TAG_POST_FK FOREIGN KEY(IDPOST) REFERENCES PUBLIC.POST(IDPOST) NOCHECK;
ALTER TABLE PUBLIC.AUTHOR ADD CONSTRAINT PUBLIC.AUTH_BLOG_FK FOREIGN KEY(IDBLOG) REFERENCES PUBLIC.BLOG(IDBLOG) NOCHECK;